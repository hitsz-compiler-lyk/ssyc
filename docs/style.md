# 风格约定

## 代码风格约定

### 鼓励使用新特性

比赛使用 Java 15, 在不超过此版本的基础上鼓励使用新特性, 包括但不限于:

- 使用 `var` 以在变量声明中省略类型
- 使用 `Stream` 与 `Optional`
- 使用 lambda 与 `::`

若需要新特性一览, 可参考 [Java Guide](https://github.com/forax/java-guide).

### 可空变量一律使用 `Optional<T>`

如果一个变量不使用 Optional, 则总认为其是非空的并忽略 **任何** 形式的空指针检查 (包括 assert).

### 鼓励使用 assert 判断

除上提到的非空判断之外, 鼓励在代码中使用 assert 进行 pre-check 与 post-check.

### 拒绝异常标注

新创立的异常建议完全从 `RuntimeException` 派生, 除非有非常充分的理由.

对于 "代码的错误使用方式" (比如 get 一个成员但是它目前为 null), 使用断言而非异常. 只有对于 "输入数据中的错误" 才使用异常.

## 文档风格约定

理论上每一个子包都需要在 `docs` 文件夹下有其对应的文档. 文档中应说明:

1. 子包的顶层结构与设计, 比如类关系
2. 实现过程中的参考, 比如参考的哪个库的哪一部分, 学习过程中看了哪些书/资料
3. 否决/弃用了哪些设计及其理由

方法等接口 API 建议在代码中使用 Javadoc.